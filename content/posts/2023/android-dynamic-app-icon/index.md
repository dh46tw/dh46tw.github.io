---
title: Android å‹•æ…‹æ›´æ”¹æ‡‰ç”¨ç¨‹å¼åœ–æ¨™ App Icon
tags: 
  - Android
date: 2023-11-23T16:38:00
description: æœ¬æ–‡æ¢è¨ Android ä¸Šå¦‚ä½•å‹•æ…‹æ›´æ”¹æ‡‰ç”¨ç¨‹å¼åœ–æ¨™ App Icon çš„æ–¹æ³•ï¼Œä¸¦æä¾›ç¯„ä¾‹ç¨‹å¼ç¢¼ã€‚
---

## ä¸€ã€å•é¡Œæè¿°

æœ€è¿‘ä½¿ç”¨ [Todoist](https://play.google.com/store/apps/details?id=com.todoist&pcampaignid=web_share) åšä»»å‹™ç®¡ç†æ™‚ç™¼ç¾ï¼ŒApp å…§æœ‰æä¾›è‡ªé¸åœ–æ¨™çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯å‹•æ…‹æ›´æ› App çš„ Launcher Iconã€‚

| Step 0                                               | Step 1                                               | Step 2                                               | Step 3                                               |
| ---------------------------------------------------- | ---------------------------------------------------- | ---------------------------------------------------- | ---------------------------------------------------- |
| ![](attachments/Pasted%20image%2020241227105916.png) | ![](attachments/Pasted%20image%2020241227105926.png) | ![](attachments/Pasted%20image%2020241227105934.png) | ![](attachments/Pasted%20image%2020241227105943.png) |
| æŒ‰ä¸‹æŒ‰éˆ•å•Ÿç”¨è‡ªé¸åœ–æ¨™åŠŸèƒ½ã€‚                                        | åŸæœ¬ App é è¨­æ˜¯ç´…è‰²çš„ App Iconã€‚                              | åœ¨ App å…§è¨­å®šæŒ‡å®šçš„ Icon å¾Œã€‚                                 | Launcher ä¸Šçš„ Todoist Icon å°±çœŸçš„æ›å‰›æ‰æ‰€é¸çš„ App Icon äº†ï¼       |

å¦å¤–ä¸€å€‹ App [DuckDuckGo](https://play.google.com/store/apps/details?id=com.duckduckgo.mobile.android&pcampaignid=web_share) ä¹Ÿæœ‰ä¸€æ¨£çš„åŠŸèƒ½ã€‚ä¸éæ“ä½œæµç¨‹ä¸Šä¸å¤ªä¸€æ¨£ã€‚DuckDuckGo ä¸éœ€è¦ç‰¹åˆ¥å•Ÿç”¨è‡ªé¸åœ–æ¨™ï¼Œä½†åœ¨æ¯æ¬¡æ›´æ› Icon æ™‚ï¼ŒApp éƒ½æœƒåœ¨è¨­å®šå®Œæˆå¾Œè‡ªå‹•é—œé–‰ï¼Œä½¿ç”¨è€…å¿…é ˆè‡ªå‹•é‡å•Ÿ App æ‰èƒ½ç¹¼çºŒä½¿ç”¨ã€‚ 

ğŸš© å…©è€…ä½¿ç”¨é«”é©—å·®ç•°æ•´ç†:

1. Todoist: 
    - é¦–æ¬¡ä½¿ç”¨å¿…é ˆå•Ÿç”¨åŠŸèƒ½ã€‚
    - å•Ÿç”¨åŠŸèƒ½å¾Œ App æœƒè‡ªè¡Œé—œé–‰ï¼Œéœ€è¦ä½¿ç”¨è€…è‡ªè¡Œé‡é–‹ Appã€‚
    - é‡é–‹å¾Œå°±å¯ä»¥ä½¿ç”¨è‡ªé¸åœ–æ¨™çš„åŠŸèƒ½ï¼Œè€Œä¸”å¾€å¾Œçš„æ›´æ›è¡Œç‚º App éƒ½ä¸æœƒå†è‡ªå‹•é—œé–‰ã€‚
2. DuckDuckGo:
    - ä¸é ˆç‰¹åˆ¥å•Ÿç”¨åŠŸèƒ½ã€‚
    - æ¯æ¬¡æ›´æ›åœ–æ¨™éƒ½æœƒè‡ªå‹•é—œé–‰ Appï¼Œä½¿ç”¨è€…è¦è‡ªå·±é‡é–‹ã€‚


==å¦‚æœæƒ³ç›´æ¥çœ‹æ€éº¼åšï¼Œå¯ä»¥è·³åˆ° [ä¸‰ã€è§£æ±ºæ–¹æ¡ˆ](#ä¸‰ã€è§£æ±ºæ–¹æ¡ˆ)ã€‚==

## äºŒã€ç ”ç©¶æ­·ç¨‹

### 2-1 å•é¡Œé‡æ¸…

æœå°‹å¹¾å€‹é—œéµå­—å…¶å¯¦æ»¿å¿«å°±æ‰¾åˆ°ç›¸é—œçš„è§£æ³•äº†ï¼ŒåŸºæœ¬ä¸Šåˆ†æˆä½¿ç”¨ `AndroidManifest.xml` çš„ `activity-alias` æ›´æ› App é€²å…¥é»çš„åƒæ•¸ï¼Œæˆ–æ˜¯ä½¿ç”¨ [App Shortcuts](https://developer.android.com/guide/topics/ui/shortcuts/creating-shortcuts?hl=zh-tw)ã€‚

Shortcuts æ¯”è¼ƒä»£è¡¨æ€§çš„ App æ˜¯ Instagramã€‚ä½†ä»”ç´°è§€å¯Ÿå…©å€‹ App æ‰€å‘ˆé¡¯å‡ºä¾†çš„æ•ˆæœï¼Œå¯ä»¥ç¢ºå®šä¸æ˜¯é€éå»ºç«‹ Shortcut çš„æ–¹å¼æ›´æ› Iconï¼Œæ¯”è¼ƒæ¥è¿‘ç¬¬ä¸€ç¨®æ–¹å¼ã€‚

### 2-2 åˆæ¢ `activity-alias`

æœ‰é—œ`activity-alias` çš„æ“ä½œæ–¹å¼ StackOverflow éƒ½æœ‰ï¼Œä½†æˆ‘æœ€å¾Œé¸æ“‡è·Ÿè‘— [Dynamic App Icon In Android](https://oguzhanaslann.medium.com/dynamic-app-icon-in-android-a61f8570ab9f) é€™ç¯‡æ–‡ç« ä¸€èµ·å¯¦ä½œï¼Œç™¼ç¾ç¢ºå¯¦å¯ä»¥æ›´æ› App Iconã€‚

é€™å€‹æ–¹æ³•æ˜¯é€éï¼Œåœ¨ `AndroidManifest.xml` ä¸­å»ºç«‹ `MainActivity` çš„ `activity-alias`ï¼Œæ¯ä¸€å€‹ç‰ˆæœ¬çš„ Icon éƒ½æœƒéœ€è¦ä¸€å€‹å°æ‡‰çš„ `activity-alias`ã€‚

```xml
<activity
    android:name=".MainActivity"
    android:exported="true"
    android:label="@string/app_name"
    android:theme="@style/Theme.DynamicAppIcon">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity>

<activity-alias
    android:name="Option1"
    android:enabled="false"
    android:exported="true"
    android:icon="@mipmap/ic_launcher_option_1"
    android:roundIcon="@mipmap/ic_launcher_option_1_round"
    android:targetActivity=".MainActivity">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity-alias>
```
 
ğŸ’¡ ä»€éº¼æ˜¯ `activity-alias`?

é¡§åæ€ç¾©ï¼Œå°±æ˜¯ `Activity` çš„åˆ¥å(alias)ã€‚

- `activity-alias` åœ¨ `AndroidManifest` ä¸­çš„é †åºï¼Œå¿…é ˆåœ¨å®ƒçš„ç›®æ¨™ `Activity` ä¹‹å¾Œã€‚
- ä¸€èˆ¬ `activity` tag æœ‰çš„å±¬æ€§æ¬„ä½å®ƒéƒ½æœ‰ã€‚
- `activity-alias` è£¡çš„å±¬æ€§å¯ä»¥è¦–ç‚ºæ˜¯ `activity` tag çš„å­é›†(subset)ã€‚

[å®˜æ–¹æ–‡ä»¶é€£çµ](https://developer.android.com/guide/topics/manifest/activity-alias-element)  


è¨­å®šå®Œæˆå¾Œï¼Œåœ¨ç¨‹å¼ä¸­å‹•æ…‹çš„å•Ÿç”¨èˆ‡é—œé–‰ `activity-alias` ä¾†é”åˆ°æ›´æ› Icon çš„æ•ˆæœã€‚

```kotlin
/**
 * æ›´æ›ç›®å‰å•Ÿç”¨çš„ activity-alias
 *
 * @param enabled
 * @param disabled
 */
private fun changeEnabledComponent(enabled: String, disabled: String) {
    // Enable
    packageManager.setComponentEnabledSetting(
        ComponentName(this@MainActivity, "$packageName.$enabled"),
        PackageManager.COMPONENT_ENABLED_STATE_ENABLED,
        PackageManager.DONT_KILL_APP
    )
    
    // Disable
    packageManager.setComponentEnabledSetting(
        ComponentName(this@MainActivity, "$packageName.$disabled"),
        PackageManager.COMPONENT_ENABLED_STATE_DISABLED,
        PackageManager.DONT_KILL_APP
    )
}
```

ğŸš¨ å‰é¢æ‰€å®Œæˆçš„ç‰ˆæœ¬ï¼Œé›–ç„¶å¯ä»¥å‹•æ…‹æ”¹ Iconï¼Œä½†æ˜¯æœƒæœ‰ä»¥ä¸‹å¹¾å€‹å•é¡Œ:

1. æ¯æ¬¡æ›´æ› Icon éƒ½æœƒé—œé–‰ Appï¼Œæ²’è¾¦æ³•åƒ Todoist ä¸€æ¨£ï¼Œåªè¦ç¬¬ä¸€æ¬¡å•Ÿç”¨åŠŸèƒ½æ™‚é—œé–‰å°±å¥½ã€‚
2. Debug install éŒ¯èª¤ã€‚åœ¨æ›æˆ `activitiy-alias` çš„ç‹€æ…‹ä¸‹ï¼Œé€é IDE æ˜¯æ²’è¾¦æ³•é‡æ–° Install App çš„ã€‚æœƒå‡ºç¾ `Error running 'app': Activity class {tw.dh46.dynamicicon/tw.dh46.dynamicicon.MainActivity} does not exist` çš„éŒ¯èª¤ã€‚å¦‚æœè¦é€é IDE Reinstallï¼Œå°±å¿…é ˆæ›å›åŸæœ¬çš„ `activity` tagã€‚  

## ä¸‰ã€è§£æ±ºæ–¹æ¡ˆ

ç´°è®€ [StackOverflow: Change Android Launcher Icon like Instagram/Todoist](https://stackoverflow.com/q/68576022/9982091) è£¡çš„è¨è«–ï¼Œèˆ‡ [Github oguzhanaslann/DynamicIcon](https://github.com/oguzhanaslann/DynamicIcon/) å°ˆæ¡ˆï¼Œä¸¦æŸ¥çœ‹åç·¨è­¯ Todoist å¾Œå¾—åˆ°çš„ `AndroidManifest.xml`ã€‚

![](attachments/Pasted%20image%2020241227110003.png)

æ•´ç†å‡ºæœ€çµ‚çš„è¨­è¨ˆæµç¨‹å¤§æ¦‚æ˜¯ä¸‹æ–¹é€™æ¨£ã€‚

### 3-1 è¨­å®š `AndroidManifest.xml`

#### 3-1-1 å°‡ App é€²å…¥é»çš„ Activity è¨­å®šå¦‚ä¸‹

```xml
<activity
    android:name=".MainActivity"
    android:exported="true">
    <intent-filter>
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity>
```

#### 3-1-2 è¨­å®šå®‰è£ç•¶ä¸‹é è¨­èˆ‡å•Ÿç”¨åŠŸèƒ½å¾Œçš„é è¨­ `activity-alias`

`AndroidManifest` ä¸­çš„ `activitiy-alias` é™¤äº†è¦æ›´æ›çš„ç¨®é¡å¤–ï¼Œè¦å†å»ºç«‹å…©å€‹ç‰¹æ®Šçš„ `activitiy-alias`ã€‚

1. å®‰è£ç•¶ä¸‹çš„é è¨­ `activity-alias`ã€‚(å¾Œé¢ç”¨ `BuildIn` ä»£ç¨±)
2. å•Ÿç”¨æ›´æ› Icon åŠŸèƒ½å¾Œçš„é è¨­ `activity-alias`ã€‚(å¾Œé¢ç”¨ `Default` ä»£ç¨±)

```xml
<!--  å®‰è£ç•¶ä¸‹çš„  -->
<activity-alias
    android:name=".MainActivityBuiltIn"
    android:exported="true"
    android:icon="@mipmap/ic_launcher"
    android:roundIcon="@mipmap/ic_launcher_round"
    android:targetActivity=".MainActivity">

    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity-alias>

<!--  å•Ÿç”¨å¾Œçš„ Default -->
<activity-alias
    android:name=".MainActivityDefault"
    android:enabled="false"
    android:exported="true"
    android:icon="@mipmap/ic_launcher"
    android:roundIcon="@mipmap/ic_launcher_round"
    android:targetActivity=".MainActivity">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity-alias>
```

#### 3-1-3 è¨­å®šå…¶ä»– Icon å°æ‡‰çš„ `activity-alias`

```xml
<!--  Blue  -->
<activity-alias
    android:name=".MainActivityBlue"
    android:enabled="false"
    android:exported="true"
    android:icon="@mipmap/ic_launcher_blue"
    android:roundIcon="@mipmap/ic_launcher_blue_round"
    android:targetActivity=".MainActivity">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity-alias>

<!--  Red  -->
<activity-alias
    android:name=".MainActivityRed"
    android:enabled="false"
    android:exported="true"
    android:icon="@mipmap/ic_launcher_red"
    android:roundIcon="@mipmap/ic_launcher_red_round"
    android:targetActivity=".MainActivity">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity-alias>

<!--  Yellow  -->
<activity-alias
    android:name=".MainActivityYellow"
    android:enabled="false"
    android:exported="true"
    android:icon="@mipmap/ic_launcher_yellow"
    android:roundIcon="@mipmap/ic_launcher_yellow_round"
    android:targetActivity=".MainActivity">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity-alias>
```

### 3-2 å»ºç«‹ `AppIconManager` å°è£æ›´æ›çš„é‚è¼¯

```kotlin
package tw.dh46.android.dynamic_app_icon

import android.content.ComponentName
import android.content.Context
import android.content.pm.ActivityInfo
import android.content.pm.PackageManager

/**
 *  Created by DanielHuang on 2023/11/21
 */
sealed class AppIcon(val alias: String, val iconResId: Int, var isEnable: Boolean) {
    data object BuiltIn : AppIcon("MainActivityBuiltIn", R.mipmap.ic_launcher, true)
    data object Default : AppIcon("MainActivityDefault", R.mipmap.ic_launcher, false)
    data object Blue : AppIcon("MainActivityBlue", R.mipmap.ic_launcher_blue, false)
    data object Red : AppIcon("MainActivityRed", R.mipmap.ic_launcher_red, false)
    data object Yellow : AppIcon("MainActivityYellow", R.mipmap.ic_launcher_yellow, false)
}

private val appIconOptions = listOf(AppIcon.Default, AppIcon.Blue, AppIcon.Red, AppIcon.Yellow)

/**
 * App icon manager
 *
 * @property context
 * @property packageManager
 * @property buildInAppIcon å®‰è£ç•¶ä¸‹é è¨­çš„ Icon
 * @property defaultAppIcon å•Ÿç”¨æ›´æ› Icon å¾Œçš„é è¨­ Icon
 * @property targetActivity App é€²å…¥é»çš„ Activity åç¨±ï¼Œä¹Ÿæ˜¯ activity-alias çš„ targetActivity
 * @constructor Create empty App icon manager
 */
class AppIconManager(
    private val context: Context,
    private val packageManager: PackageManager = context.packageManager,
    private val buildInAppIcon: AppIcon = AppIcon.BuiltIn,
    private val defaultAppIcon: AppIcon = AppIcon.Default,
    private val targetActivity: String = "MainActivity"
) {
    /**
     * å•Ÿç”¨æ›´æ› Icon åŠŸèƒ½
     */
    fun activateFeature() {
        setAliasComponentState(defaultAppIcon.alias, true)
        setAliasComponentState(buildInAppIcon.alias, false)
    }

    /**
     * åœç”¨æ›´æ› Icon åŠŸèƒ½
     */
    fun deactivateFeature() {
        setActiveAppIcon(buildInAppIcon)
    }

    /**
     * è¨­å®šç›®å‰å•Ÿç”¨çš„ AppIcon
     *
     * @param appIcon
     */
    fun setActiveAppIcon(appIcon: AppIcon) {
        // åŠŸèƒ½å•Ÿç”¨å¾Œæ‰èƒ½è®Šæ› Icon
        checkFeatureActivated()

        // åœç”¨å…¶ä»–é¸é …
        disableOtherIconOptions(appIcon)

        // å•Ÿç”¨é¸ä¸­çš„é¸é …
        enableIcon(appIcon)
    }

    private fun enableIcon(appIcon: AppIcon) {
        appIcon.isEnable = true
        setAliasComponentState(appIcon.alias, true)
    }

    /**
     * åœç”¨å…¶ä»–é¸é …
     *
     * @param appIcon
     */
    private fun disableOtherIconOptions(appIcon: AppIcon) {
        getLatestIconOptions().filterNot {
            it == appIcon
        }.forEach {
            it.isEnable = false
            setAliasComponentState(it.alias, false)
        }
    }

    /**
     * æª¢æŸ¥æ˜¯å¦å•Ÿç”¨
     */
    private fun checkFeatureActivated() {
        if (!isFeatureActivated()) throw IllegalStateException("Feature is not activated!")
    }

    /**
     * æª¢æŸ¥ activity-alias: MainActivityDefault æ˜¯å¦è¢«åœç”¨ (Disabled)
     * ä¾†è¾¨è­˜æ˜¯å¦å·²å•Ÿç”¨æ›´æ›åœ–ç¤ºçš„åŠŸèƒ½
     *
     * @return
     */
    fun isFeatureActivated(): Boolean {
        return packageManager.getComponentEnabledSetting(
            createComponentName(buildInAppIcon.alias),
        ) == PackageManager.COMPONENT_ENABLED_STATE_DISABLED
    }

    /**
     * å–å¾—æœ€æ–°ç‹€æ…‹çš„ Icon é¸é …
     *
     * @return
     */
    fun getLatestIconOptions(): List<AppIcon> {
        getLauncherActivityInfoList().forEach { activityInfo ->
            val isEnabled = isComponentEnabled(activityInfo)

            if (isEnabled) {
                appIconOptions.forEach {
                    if (activityInfo.name == "${context.packageName}.${it.alias}") {
                        it.isEnable = true
                    }
                }
            }
        }

        return appIconOptions
    }

    // ----------------------------------------------------

    /**
     * è¨­å®š Component ç‹€æ…‹ 
     *
     */
    private fun setAliasComponentState(alias: String, enable: Boolean) {
        // æª¢æŸ¥æ˜¯å¦æœ‰éæ³• alias
        require(buildInAppIcon.alias == alias || appIconOptions.any { it.alias == alias }) { "Invalid alias: $alias" }

        val newState = if (enable) {
            PackageManager.COMPONENT_ENABLED_STATE_ENABLED
        } else {
            if (alias == buildInAppIcon.alias) {
                // å¦‚æœæ˜¯å®‰è£é è¨­é¸é … STATE è¦è¨­ç‚º DISABLED åœç”¨
                PackageManager.COMPONENT_ENABLED_STATE_DISABLED
            } else {
                // æ¨£å¼ Icon åˆ‡æ›ï¼Œé—œé–‰æ˜¯è¨­ç‚º DEFAULT (é¿å…åˆ‡æ› Icon å¾Œ App å¿…é ˆé—œé–‰)
                PackageManager.COMPONENT_ENABLED_STATE_DEFAULT
            }
        }

        packageManager.setComponentEnabledSetting(
            createComponentName(alias),
            newState,
            PackageManager.DONT_KILL_APP
        )
    }

    private fun createComponentName(alias: String) =
        ComponentName(context, "${context.packageName}.$alias")

    /**
     * æª¢æŸ¥è©² Component æ˜¯å¦å•Ÿç”¨
     * 
     */
    private fun isComponentEnabled(activityInfo: ActivityInfo): Boolean {
        val state =
            packageManager.getComponentEnabledSetting(ComponentName(context, activityInfo.name))

        val isEnabled = if (state == PackageManager.COMPONENT_ENABLED_STATE_DEFAULT) {
            activityInfo.enabled
        } else {
            state == PackageManager.COMPONENT_ENABLED_STATE_ENABLED
        }
        return isEnabled
    }

    /**
     * å–å¾—ç›®å‰ targetActivity ç›¸é—œçš„ activity, activity-alias 
     * å…©ç¨® tag çš„ ActivityInfo
     */
    private fun getLauncherActivityInfoList(targetActivityClassName: String = targetActivity): List<ActivityInfo> {
        return packageManager.getPackageInfo(
            context.packageName,
            PackageManager.GET_ACTIVITIES or PackageManager.MATCH_DISABLED_COMPONENTS
        ).activities.filter {
            it.name.contains(targetActivityClassName)
        }
    }
}
```

#### 3-2-1 `activateFeature()`

é¦–æ¬¡å•Ÿç”¨æ›´æ› Icon åŠŸèƒ½æ™‚åŸ·è¡Œï¼ŒApp æœƒè‡ªå‹•é—œé–‰ï¼Œéœ€è¦ä½¿ç”¨è€…è‡ªè¡Œé‡é–‹ Appã€‚
    
- å°‡ `BuildIn` è¨­ç‚º `COMPONENT_ENABLED_STATE_DISABLED`
- å°‡ `Default` è¨­ç‚º `COMPONENT_ENABLED_STATE_ENABLED`

#### 3-2-2 `setActiveAppIcon()`

å•Ÿç”¨å¾Œæ›´æ› Icon æ™‚åŸ·è¡Œï¼ŒApp ä¸æœƒè‡ªå‹•é—œé–‰ï¼Œä¸” Icon å·²æ›æˆè¨­å®šçš„æ¨£å¼ã€‚

- å°‡ `Default` è¨­ç‚º `COMPONENT_ENABLED_STATE_DEFAULT`
- å°‡ **è¦æ›´æ›çš„ `activity-alias`** è¨­ç‚º `COMPONENT_ENABLED_STATE_ENABLED`

#### 3-2-3 `deactivateFeature()`

è¦åœç”¨åˆ‡æ›åŠŸèƒ½æ™‚åŸ·è¡Œã€‚
    
- å°‡ `BuildIn` è¨­ç‚º `COMPONENT_ENABLED_STATE_ENABLED`
- å°‡ `Default` è¨­ç‚º `COMPONENT_ENABLED_STATE_DEFAULT`

ğŸ’¡ ä»¥ä¸Šå®Œæˆçš„ç‰ˆæœ¬ï¼Œå°±å¯ä»¥é”åˆ°èˆ‡ Todoist ç›¸åŒçš„ä½¿ç”¨é«”é©—ã€‚

![](attachments/android-dynamic-app-icon.gif)

å¦‚æœæœ‰éœ€è¦å®Œæ•´çš„ç¯„ä¾‹å°ˆæ¡ˆï¼Œè«‹åƒè€ƒ [Github: dh46tw/android-dynamic-app-icon-demo](https://github.com/dh46tw/android-dynamic-app-icon-demo)ã€‚

## å››ã€å·²çŸ¥å•é¡Œ

### 4-1 Debug build install error

æ”¹æˆå…¶ä»– Alias å¾Œï¼Œé€é IDE é‡ build App æœƒå‡ºç¾ 

```
Error running 'app': Activity class {tw.dh46.dynamicicon/tw.dh46.dynamicicon.MainActivity} does not exist
```

é€™éƒ¨åˆ†æ˜¯å› ç‚º ADB åŸ·è¡Œçš„æŒ‡ä»¤æœƒæ˜¯:

```log
2023-11-23 16:25:58: Launching app on 'Pixel 7 Pro API 33.
$ adb shell am start -n "tw.dh46.android.dynamic_app_icon/tw.dh46.android.dynamic_app_icon.MainActivityBuiltIn" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER --splashscreen-show-icon 

Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=tw.dh46.android.dynamic_app_icon/.MainActivityBuiltIn }
```

ä½†æ˜¯æ›´æ› Icon å¾Œï¼Œ`activity-alias` å·²ç¶“ä¸å†æ˜¯ `MainActivityBuiltIn` ï¼Œæ‰€ä»¥æ‰æœƒç„¡æ³•é€é IDE å•Ÿå‹• Appã€‚

### 4-2 ç™¼å¸ƒå¾Œä¸èƒ½éš¨ä¾¿åˆªé™¤ `activity-alias`

> _æ–°å›¾æ ‡çš„å¯åŠ¨åœ¨ä»£ç ä¸­æ§åˆ¶ï¼Œä¹‹åå‘ç‰ˆä¸è¦è½»æ˜“åˆ é™¤åˆ«ååˆ—è¡¨ï¼Œå¦åˆ™è¦†ç›–å®‰è£…æ—¶ï¼Œå½“å‰å±•ç¤ºçš„åˆ«åå›¾æ ‡è¢«åˆ é™¤äº†ä¼šå¼•å‘æ‰¾ä¸åˆ°activityå´©æºƒ_
> 
> ä¾†æº: [activity-alias çš„ä½¿ç”¨åŠè‹¥å¹²é—®é¢˜](https://blog.csdn.net/JiaoJunfeng/article/details/129360815)

## äº”ã€åƒè€ƒè³‡æ–™

### StackOverflow

- [StackOverflow: How to change an application icon programmatically in Android?](https://stackoverflow.com/questions/1103027/how-to-change-an-application-icon-programmatically-in-android)
- [StackOverflow: Is there any way to dynamically change an app icon like Calendar app does?](https://stackoverflow.com/a/34617982/9982091)
- [StackOverflow: Change Android Launcher Icon like Instagram/Todoist](https://stackoverflow.com/q/68576022/9982091)

### Medium

- [Dynamic App Icon In Android](https://oguzhanaslann.medium.com/dynamic-app-icon-in-android-a61f8570ab9f)
- [Dynamic Launcher Icon and Name for Android](https://medium.com/@simonmisles/dynamic-launcher-icon-and-name-for-android-e40bf0561715)

### Github

- [DuckDuckGo-AppIconModifier.kt](https://github.com/duckduckgo/Android/blob/develop/app/src/main/java/com/duckduckgo/app/icon/api/AppIconModifier.kt)

---

ğŸ“¢ åŒæ­¥ç™¼è¡¨åœ¨ [iT é‚¦å¹«å¿™](https://ithelp.ithome.com.tw/articles/10312323)ã€[HackMD](https://hackmd.io/@dh46tw/android-dynamic-app-icon)ã€‚